<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.24">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>10&nbsp; Inverses and Composites – Naive Set Theory</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./chapter_11.html" rel="next">
<link href="./chapter_9.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dc55a5b9e770e841cd82e46aadbfb9b0.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-889171f6e2265cf69758186834c2a0b0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<!-- ==============================
     Math (MathJax)
     ============================== -->
<script>
  window.MathJax = {
    // Load the TeX 'mathtools' extension for MathJax
    loader: { load: ['[tex]/mathtools'] },
    // Add 'mathtools' to the default TeX package list
    tex: { packages: { '[+]': ['mathtools'] } }
  };
</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./chapter_10.html"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Inverses and Composites</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Naive Set Theory</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/luifrancgom/halmos_naive_set_theory_quarto/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <a href="./Naive-Set-Theory.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface by the Editor</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface by the Author</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">The Axiom of Extension</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">The Axiom of Specification</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Unordered Pairs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Unions and Intersections</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Complements and Powers</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ordered Pairs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Relations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Families</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_10.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Inverses and Composites</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Numbers</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">The Peano Axioms</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Arithmetic</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Order</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">The Axiom Of Choice</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./chapter_16.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Zorn’s Lemma</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Inverses and Composites</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Associated with every function <span class="math inline">\(f\)</span>, from <span class="math inline">\(X\)</span> to <span class="math inline">\(Y\)</span>, say, there is a function from <span class="math inline">\(\mathcal{P}(X)\)</span> to <span class="math inline">\(\mathcal{P}(Y)\)</span>, namely the function (frequently called <span class="math inline">\(f\)</span> also) that assigns to each subset <span class="math inline">\(A\)</span> of <span class="math inline">\(X\)</span> the image subset <span class="math inline">\(f(A)\)</span> of <span class="math inline">\(Y\)</span>. The algebraic behavior of the mapping <span class="math inline">\(A \rightarrow f(A)\)</span> leaves something to be desired. It is true that if <span class="math inline">\(\{ A_{i} \}\)</span> is a family of subsets of <span class="math inline">\(X\)</span>, then <span class="math inline">\(f( \bigcup_{i} A_{i}) = \bigcup_{i} f( A_{i})\)</span> (proof?), but the corresponding equation for intersections is false in general (example?), and the connection between images and complements is equally unsatisfactory.</p>
<p>A correspondence between the elements of <span class="math inline">\(X\)</span> and the elements of <span class="math inline">\(Y\)</span> does always induce a well-behaved correspondence between the subsets of <span class="math inline">\(X\)</span> and the subsets of <span class="math inline">\(Y\)</span>, not forward, by the formation of images, but backward, by the formation of inverse images. Given a function <span class="math inline">\(f\)</span> from <span class="math inline">\(X\)</span> to <span class="math inline">\(Y\)</span>, let <span class="math inline">\(f^{-1}\)</span>, the <em>inverse</em> of <span class="math inline">\(f\)</span>, be the function from <span class="math inline">\(\mathcal{P}(Y)\)</span> to <span class="math inline">\(\mathcal{P}(X)\)</span> such that if <span class="math inline">\(B \subset Y\)</span>, then</p>
<p><span class="math display">\[
f^{-1}(B) = \{ x \in X : f(x) \in B \}.
\]</span></p>
<p>In words: <span class="math inline">\(f^{-1}(B)\)</span> consists of exactly those elements of <span class="math inline">\(X\)</span> that <span class="math inline">\(f\)</span> maps into <span class="math inline">\(B\)</span>; the set <span class="math inline">\(f^{-1}(B)\)</span> is called the <em>inverse image</em> of <span class="math inline">\(B\)</span> under <span class="math inline">\(f\)</span>. A necessary and sufficient condition that <span class="math inline">\(f\)</span> map <span class="math inline">\(X\)</span> onto <span class="math inline">\(Y\)</span> is that the inverse image under <span class="math inline">\(f\)</span> of each non-empty subset of <span class="math inline">\(Y\)</span> be a non-empty subset of <span class="math inline">\(X\)</span>. (Proof?) A necessary and sufficient condition that <span class="math inline">\(f\)</span> be one-to-one is that the inverse image under <span class="math inline">\(f\)</span> of each singleton in the range of <span class="math inline">\(f\)</span> be a singleton in <span class="math inline">\(X\)</span>.</p>
<p>If the last condition is satisfied, then the symbol <span class="math inline">\(f^{-1}\)</span> is frequently assigned a second interpretation, namely as the function whose domain is the range of <span class="math inline">\(f\)</span>, and whose value for each <span class="math inline">\(y\)</span> in the range of <span class="math inline">\(f\)</span> is the unique <span class="math inline">\(x\)</span> in <span class="math inline">\(X\)</span> for which <span class="math inline">\(f(x) = y\)</span>. In other words, for one-to-one functions <span class="math inline">\(f\)</span> we may write <span class="math inline">\(f^{-1}(y) = x\)</span> if and only if <span class="math inline">\(f(x) = y\)</span>. This use of the notation is mildly inconsistent with our first interpretation of <span class="math inline">\(f^{-1}\)</span>, but the double meaning is not likely to lead to any confusion.</p>
<p>The connection between images and inverse images is worth a moment’s consideration.</p>
<p>If <span class="math inline">\(B \subset Y\)</span>, then</p>
<p><span class="math display">\[
f(f^{-1}(B)) \subset B.
\]</span></p>
<div class="proof">
<p><span class="proof-title"><em>Proof</em>. </span>If <span class="math inline">\(y \in f(f^{-1}(B))\)</span>, then <span class="math inline">\(y = f(x)\)</span> for some <span class="math inline">\(x\)</span> in <span class="math inline">\(f^{-1}(B)\)</span>; this means that <span class="math inline">\(y = f(x)\)</span> and <span class="math inline">\(f(x) \in B\)</span>, and therefore <span class="math inline">\(y \in B\)</span>.</p>
</div>
<p>If <span class="math inline">\(f\)</span> maps <span class="math inline">\(X\)</span> onto <span class="math inline">\(Y\)</span>, then</p>
<p><span class="math display">\[
f(f^{-1}(B)) = B.
\]</span></p>
<div class="proof">
<p><span class="proof-title"><em>Proof</em>. </span>If <span class="math inline">\(y \in B\)</span>, then <span class="math inline">\(y = f(x)\)</span> for some <span class="math inline">\(x\)</span> in <span class="math inline">\(X\)</span>, and therefore for some <span class="math inline">\(x\)</span> in <span class="math inline">\(f^{-1}(B)\)</span>; this means that <span class="math inline">\(y \in f(f^{-1}(B))\)</span>.</p>
</div>
<p>If <span class="math inline">\(A \subset X\)</span>, then</p>
<p><span class="math display">\[
A \subset f^{-1}(f(A))
\]</span></p>
<div class="proof">
<p><span class="proof-title"><em>Proof</em>. </span>If <span class="math inline">\(x \in A\)</span>, then <span class="math inline">\(f(x) \in f(A)\)</span>; this means that <span class="math inline">\(x \in f^{-1}(f(A))\)</span>.</p>
</div>
<p>If <span class="math inline">\(f\)</span> is one-to-one, then</p>
<p><span class="math display">\[
A = f^{-1}(f(A))
\]</span></p>
<div class="proof">
<p><span class="proof-title"><em>Proof</em>. </span>If <span class="math inline">\(x \in f^{-1}(f(A))\)</span>, then <span class="math inline">\(f(x) \in f(A)\)</span>, and therefore <span class="math inline">\(f(x) = f(u)\)</span> for some <span class="math inline">\(u\)</span> in <span class="math inline">\(A\)</span>; this implies that <span class="math inline">\(x = u\)</span> and hence that <span class="math inline">\(x \in A\)</span>.</p>
</div>
<p>The algebraic behavior of <span class="math inline">\(f^{-1}\)</span> is unexceptionable. If <span class="math inline">\(\{ B_{i} \}\)</span> is a family of subsets of <span class="math inline">\(Y\)</span>, then</p>
<p><span class="math display">\[
f^{-1}\left( \bigcup_{i} B_{i} \right) = \bigcup_{i}f^{-1}(B_{i})
\]</span></p>
<p>and</p>
<p><span class="math display">\[
f^{-1}\left( \bigcap_{i} B_{i} \right) = \bigcap_{i}f^{-1}(B_{i})
\]</span></p>
<p>The proofs are straightforward. If, for instance, <span class="math inline">\(x \in f^{-1}( \bigcap_{i} B_{i})\)</span>, then <span class="math inline">\(f(x) \in B_{i}\)</span> for all <span class="math inline">\(i\)</span>, so that <span class="math inline">\(x \in f^{-1}(B_{i})\)</span> for all <span class="math inline">\(i\)</span>, and therefore <span class="math inline">\(x \in \bigcap_{i}f^{-1}(B_{i})\)</span>; all the steps in this argument are reversible. The formation of inverse images commutes with complementation also; i.e.,</p>
<p><span class="math display">\[
f^{-1}(Y - B) = X - f^{-1}(B)
\]</span></p>
<p>for each subset <span class="math inline">\(B\)</span> of <span class="math inline">\(Y\)</span>. Indeed: if <span class="math inline">\(x \in f^{-1}(Y - B)\)</span>, then <span class="math inline">\(f(x) \in Y - B\)</span>, so that <span class="math inline">\(x \notin f^{-1}(B)\)</span>, and therefore <span class="math inline">\(x \in X - f^{-1}(B)\)</span>; the steps are reversible. (Observe that the last equation is indeed a kind of commutative law: it says that complementation followed by inversion is the same as inversion followed by complementation.)</p>
<p>The discussion of inverses shows that what a function does can in a certain sense be undone; the next thing we shall see is that what two functions do can sometimes be done in one step. If, to be explicit, <span class="math inline">\(f\)</span> is a function from <span class="math inline">\(X\)</span> to <span class="math inline">\(Y\)</span> and <span class="math inline">\(g\)</span> is a function from <span class="math inline">\(Y\)</span> to <span class="math inline">\(Z\)</span>, then every element in the range of <span class="math inline">\(f\)</span> belongs to the domain of <span class="math inline">\(g\)</span>, and, consequently, <span class="math inline">\(g(f(x))\)</span> makes sense for each <span class="math inline">\(x\)</span> in <span class="math inline">\(X\)</span>. The function <span class="math inline">\(h\)</span> from <span class="math inline">\(X\)</span> to <span class="math inline">\(Z\)</span>, defined by <span class="math inline">\(h(x) = g(f(x))\)</span> is called the <em>composite</em> of the functions <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span>; it is denoted by <span class="math inline">\(g \circ f\)</span> or, more simply, by <span class="math inline">\(gf\)</span>. (Since we shall not have occasion to consider any other kind of multiplication for functions, in this book we shall use the latter, simpler notation only.)</p>
<p>Observe that the order of events is important in the theory of functional composition. In order that <span class="math inline">\(gf\)</span> be defined, the range of <span class="math inline">\(f\)</span> must be included in the domain of <span class="math inline">\(g\)</span>, and this can happen without it necessarily happening in the other direction at the same time. Even if both <span class="math inline">\(fg\)</span> and <span class="math inline">\(gf\)</span> are defined, which happens if, for instance, <span class="math inline">\(f\)</span> maps <span class="math inline">\(X\)</span> into <span class="math inline">\(Y\)</span> and <span class="math inline">\(g\)</span> maps <span class="math inline">\(Y\)</span> into <span class="math inline">\(X\)</span>, the functions <span class="math inline">\(fg\)</span> and <span class="math inline">\(gf\)</span> need not be the same; in other words, functional composition is not necessarily commutative.</p>
<p>Functional composition may not be commutative, but it is always associative. If <span class="math inline">\(f\)</span> maps <span class="math inline">\(X\)</span> into <span class="math inline">\(Y\)</span>, if <span class="math inline">\(g\)</span> maps <span class="math inline">\(Y\)</span> into <span class="math inline">\(Z\)</span>, and if <span class="math inline">\(h\)</span> maps <span class="math inline">\(Z\)</span> into <span class="math inline">\(U\)</span>, then we can form the composite of <span class="math inline">\(h\)</span> with <span class="math inline">\(gf\)</span> and the composite of <span class="math inline">\(hg\)</span> with <span class="math inline">\(f\)</span>; it is a simple exercise to show that the result is the same in either case.</p>
<p>The connection between inversion and composition is important; something like it crops up all over mathematics. If <span class="math inline">\(f\)</span> maps <span class="math inline">\(X\)</span> into <span class="math inline">\(Y\)</span> and <span class="math inline">\(g\)</span> maps <span class="math inline">\(Y\)</span> into <span class="math inline">\(Z\)</span>, then <span class="math inline">\(f^{-1}\)</span> maps <span class="math inline">\(\mathcal{P}(Y)\)</span> into <span class="math inline">\(\mathcal{P}(X)\)</span> and <span class="math inline">\(g^{-1}\)</span> maps <span class="math inline">\(\mathcal{P}(Z)\)</span> into <span class="math inline">\(\mathcal{P}(Y)\)</span>. In this situation, the composites that are formable are <span class="math inline">\(gf\)</span> and <span class="math inline">\(f^{-1}g^{-1}\)</span>; the assertion is that the latter is the inverse of the former. Proof: if <span class="math inline">\(x \in (gf)^{-1}(C)\)</span>, where <span class="math inline">\(x \in X\)</span> and <span class="math inline">\(C \subset Z\)</span>, then <span class="math inline">\(g(f(x)) \in C\)</span>, so that <span class="math inline">\(f(x) \in g^{-1}(C)\)</span>, and therefore <span class="math inline">\(x \in f^{-1}(g^{-1}(C))\)</span>; the steps of the argument are reversible.</p>
<p>Inversion and composition for functions are special cases of similar operations for relations. Thus, in particular, associated with every relation <span class="math inline">\(R\)</span> from <span class="math inline">\(X\)</span> to <span class="math inline">\(Y\)</span> there is the <em>inverse</em> (or <em>converse</em>) relation <span class="math inline">\(R^{-1}\)</span> from <span class="math inline">\(Y\)</span> to <span class="math inline">\(X\)</span>; by definition <span class="math inline">\(y R^{-1} x\)</span> means that <span class="math inline">\(xRy\)</span>. Example: if <span class="math inline">\(R\)</span> is the relation of belonging, from <span class="math inline">\(X\)</span> to <span class="math inline">\(\mathcal{P}(X)\)</span>, then <span class="math inline">\(R^{-1}\)</span> is the relation of containing, from <span class="math inline">\(\mathcal{P}(X)\)</span> to <span class="math inline">\(X\)</span>. It is an immediate consequence of the definitions involved that <span class="math inline">\(\text{dom }R^{-1} = \text{ran } R\)</span> and <span class="math inline">\(\text{ran }R^{-1} = \text{dom } R\)</span>. If the relation <span class="math inline">\(R\)</span> is a function, then the equivalent assertions <span class="math inline">\(xRy\)</span> and <span class="math inline">\(yR^{-1}x\)</span> can be written in the equivalent forms <span class="math inline">\(R(x) = y\)</span> and <span class="math inline">\(x \in R^{-1}( \{ y \} )\)</span>.</p>
<p>Because of difficulties with commutativity, the generalization of functional composition has to be handled with care. The composite of the relations <span class="math inline">\(R\)</span> and <span class="math inline">\(S\)</span> is defined in case <span class="math inline">\(R\)</span> is a relation from <span class="math inline">\(X\)</span> to <span class="math inline">\(Y\)</span> and <span class="math inline">\(S\)</span> is a relation from <span class="math inline">\(Y\)</span> to <span class="math inline">\(Z\)</span>. The composite relation <span class="math inline">\(T\)</span>, from <span class="math inline">\(X\)</span> to <span class="math inline">\(Z\)</span>, is denoted by <span class="math inline">\(S \circ R\)</span>, or, simply, by <span class="math inline">\(SR\)</span>; it is defined so that <span class="math inline">\(xTz\)</span> if and only if there exists an element <span class="math inline">\(y\)</span> in <span class="math inline">\(Y\)</span> such that <span class="math inline">\(xRy\)</span> and <span class="math inline">\(ySz\)</span>. For an instructive example, let <span class="math inline">\(R\)</span> mean “son” and let <span class="math inline">\(S\)</span> mean “brother” in the set of human males, say. In other words, <span class="math inline">\(xRy\)</span> means that <span class="math inline">\(x\)</span> is son of <span class="math inline">\(y\)</span>, and <span class="math inline">\(ySz\)</span> means that <span class="math inline">\(y\)</span> is a brother of <span class="math inline">\(z\)</span>. In this case the composite relation <span class="math inline">\(SR\)</span> means “nephew.” (Query: what do <span class="math inline">\(R^{-1}\)</span>, <span class="math inline">\(S^{-1}\)</span>, <span class="math inline">\(RS\)</span>, and <span class="math inline">\(R^{-1}S^{-1}\)</span> mean?) If both <span class="math inline">\(R\)</span> and <span class="math inline">\(S\)</span> are functions, then <span class="math inline">\(xRy\)</span> and <span class="math inline">\(ySz\)</span> can be rewritten as <span class="math inline">\(R(x) = y\)</span> and <span class="math inline">\(S(y) = z\)</span> respectively. It follows that <span class="math inline">\(S(R(x)) = z\)</span> if and only if <span class="math inline">\(xTz\)</span>, so that functional composition is indeed a special case of what is sometimes called the <em>relative product</em>.</p>
<p>The algebraic properties of inversion and composition are the same for relations as for functions. Thus, in particular, composition is commutative by accident only, but it is always associative, and it is always connected with inversion via the equation <span class="math inline">\((SR)^{-1} = R^{-1}S^{-1}\)</span>. (Proofs?)</p>
<p>The algebra of relations provides some amusing formulas. Suppose that, temporarily, we consider relations in one set <span class="math inline">\(X\)</span> only, and, in particular, let the relation of equality in <span class="math inline">\(X\)</span> (which is the same as the identity mapping on <span class="math inline">\(X\)</span>). The relation <span class="math inline">\(I\)</span> acts as a multiplicative unit; this means that <span class="math inline">\(IR = RI = R\)</span> for every relation <span class="math inline">\(R\)</span> in <span class="math inline">\(X\)</span>. Query: is there a connection among <span class="math inline">\(I\)</span>, <span class="math inline">\(RR^{-1}\)</span>, and <span class="math inline">\(R^{-1}R\)</span>? The three defining properties of an equivalence relation can be formulated in algebraic terms as follows: reflexivity means <span class="math inline">\(I \subset R\)</span>, symmetry means <span class="math inline">\(R \subset R^{-1}\)</span>, and transitivity means <span class="math inline">\(RR \subset R\)</span>.</p>
<div id="exr-10-1" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 10.1</strong></span> (Assume in each case that <span class="math inline">\(f\)</span> is a function from <span class="math inline">\(X\)</span> to <span class="math inline">\(Y\)</span>) <span class="math inline">\((i)\)</span> If <span class="math inline">\(g\)</span> is a function from <span class="math inline">\(Y\)</span> to <span class="math inline">\(X\)</span> such that <span class="math inline">\(gf\)</span> is the identity on <span class="math inline">\(X\)</span>, then <span class="math inline">\(f\)</span> is one-to-one and <span class="math inline">\(g\)</span> maps <span class="math inline">\(Y\)</span> onto <span class="math inline">\(X\)</span>. <span class="math inline">\((ii)\)</span> A necessary and sufficient condition that <span class="math inline">\(f(A \cap B) = f(A) \cap f(B)\)</span> for all subsets <span class="math inline">\(A\)</span> and <span class="math inline">\(B\)</span> of <span class="math inline">\(X\)</span> is that <span class="math inline">\(f\)</span> be one-to-one. <span class="math inline">\((iii)\)</span> A necessary and sufficient condition that <span class="math inline">\(f(X - A) \subset Y - f(A)\)</span> for all subsets <span class="math inline">\(A\)</span> of <span class="math inline">\(X\)</span> is that <span class="math inline">\(f\)</span> be one-to-one. <span class="math inline">\((iv)\)</span> A necessary and sufficient condition that <span class="math inline">\(Y - f(A) \subset f(X - A)\)</span> for all subsets <span class="math inline">\(A\)</span> of <span class="math inline">\(X\)</span> is that <span class="math inline">\(f\)</span> map <span class="math inline">\(X\)</span> onto <span class="math inline">\(Y\)</span>.</p>
</div>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./chapter_9.html" class="pagination-link" aria-label="Families">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Families</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./chapter_11.html" class="pagination-link" aria-label="Numbers">
        <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Numbers</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/luifrancgom/halmos_naive_set_theory_quarto/edit/main/chapter_10.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/luifrancgom/halmos_naive_set_theory_quarto/blob/main/chapter_10.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/luifrancgom/halmos_naive_set_theory_quarto/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>